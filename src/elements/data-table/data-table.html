<!-- 
TODO: comentário geral: mais para o futuro, faremos
um dom-repeat para cada "entity" na lista de "entities"
da aplicação.

Não acho que seja relevante fazer isso agora, mas já fique alertada
para as modificações para o futuro.

É possível que tenhamos que quebrar este componente em dois.
Mas ainda é especulação.
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<!-- Carbo components -->
<!--
TODO: esta referência está quebrada.
Lembro que você tinha me perguntado algo sobre utilizar elements.html,
e eu ter respondido que era bom sim. Mas acho que na época não tinha entendido
a pergunta direito. O elements.html é parte da aplicação principal,
ou seja, ele não deve ser utilizado dentro dos elements.

Tudo que está dentro da pasta elements/**/* são componentes que praticamente 
são completamtente independentes da aplicação principal, ou seja,
quase poderiam ser repositórios git separados. 
(Isso apenas ao nível do código, pois no nível da semântica, eles não fariam 
sentido separados e é isso que os impede de ir para repositórios separados. 
Ex.: o canvas jamais faria sentido fora do contexto da nossa IDE, não seria utilizado
em nenhuma outra aplicação.

Long story short, é melhor remover esta referência altogether, e é mais fácil até porque você não está usando nada dos imports do elements.
-->
<link rel="import" href="../elements.html">

<!--
TODO: os dialogs não estão sendo utilizados no momento
comenete este bloco de código e deixe a anotação para utilizá-los e em qual 
momento utilizá-los    
-->
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">

<link rel="import" href="data-table-styles.html">

<dom-module id="carbo-data-table">
    <style include="data-table-styles"></style>
    <template>

        <!--componente start-->

        <!--<div id="entities-container" class="associate-entity-mode">-->
            
        <div id="entities-container">
    
            <div id="general-action-message">
                <!--MENSAGEM PARA ASSOCIAR COMPONENTE A ENTIDADE-->
                <p id="associate-entity-message">
                    Associe o componente a um dos grupos de dados exibidos abaixo, ou crie um novo.
                </p>
            </div>

            <div id="entity" class="closed entity-associated-mode">
                <div id="entity-id" class="active">
                    <div class="associate-button-area">
                        <input type="radio" class="associate-entity-button">
                    </div>
                    <iron-icon icon="hardware:keyboard-arrow-down" id="arrow"></iron-icon>
                    <span>Respostas ao formulário 1</span>
                </div>
                    
                <div id="entity-action-message">   
                    <!--MENSAGEM DE COMPONENTE JÁ ASSOCIADO À ENTIDADE-->             
                    <p id="entity-associated-message" class="active">
                        Os dados das respostas ao "Formulário 1" estarão associados à "Respostas ao Formulário 1"
                    </p>

                    <!--MENSAGEM PARA ASSOCIAR COMPONENTE A PROPROEDADE DE ENTIDADE-->
                    <p id="associate-property-message">
                        Associe o componente à uma propriedade exibida abaixo, ou crie uma nova.
                    </p>
                </div>

                <div class="table-container">
                    <table on-click="handleClick">
                        <thead>
                            <tr>
                                <!-- repete colunas para cada propriedade-->
                                <template is="dom-repeat" items="{{ entity1.properties }}" as="property">
    <!--                                    <th><input type="radio" class="associate-property-button" class="active">{{ property.name }}</th>-->
                                    
                                    <th>
                                        <input type="radio" class="associate-property-button" class="active">
                                        <iron-autogrow-textarea bind-value="{{ property.name }}" max-rows="2" placeholder="Add nome">
                                        </iron-autogrow-textarea>
                                    </th>
                                    
                                </template>
                                <!-- fim do repete colunas -->

                                <th>
                                    <iron-icon icon="add"></iron-icon>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <!-- repete linhas de cada entidade -->
                            <template 
                                is="dom-repeat"
                                items="{{ entity1.items }}" 
                                as="dataitem"
                            >
                                <tr>
                                    <!-- repete colunas de cada linha-->
                                    <template 
                                        is="dom-repeat" 
                                        items="{{ dataitem.properties }}" 
                                        as="propertiecontent"
                                    >
                                        <td>
                                            <!-- TODO: propertiecontent está escrito errado -->
                                            <iron-autogrow-textarea 
                                                bind-value="{{ propertiecontent.content }}"
                                                max-rows="3"
                                                placeholder="Add dado"
                                            >
                                            </iron-autogrow-textarea>
                                        </td>
                                    </template>
                                    <!-- fim do repete colunas -->

                                    <!-- TODO: documentar este td
                                        o meu chute é que ele está aqui 
                                        para manter o tamanho da table
                                        mesmo com o botão lá em cima, certo?
                                        Acho que é uma boa solução sim,
                                        apenas documente isto.
                                     -->
                                    <td></td>
                                </tr>
                            </template>
                            <!-- fim do repete das linhas -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="data-alert">
                <div>
                    <p>
                        IMPORTANTE: Esses dados não são reais. Eles são exibidos apenas para facilitar o desenvolvimento. Para importar os dados reais, acesse a Área de admin.
                    </p>
                </div>
                <div>
                    <iron-icon icon="close"></iron-icon>
                </div>
            </div>
        </div>
        <!--componente end-->
    </template>
    <script src="data-table.js"></script>

</dom-module>


<!-- 
TODO: 
considerações finais:

Achei o código bem desafiador, digo, o trabalho que você fez
é bem grande para este começo ainda, parabéns :) 
(fiquei bem orgulhoso, dom-repeat dentro de dom-repeat não é uma coisa simples,
geralmente dobra a mente das pessoas)

Tome muito cuidado com identação. Ela provavelmente consumiu uns 30% do seu tempo
sem você perceber ;)


-->
