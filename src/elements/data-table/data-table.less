@import '../../less/variables.less';

// TODO: css acho melhor você me explicar o css 
:host {

    display:flex;
    flex-direction: column;
}

#entities-container {

    #general-action-message {
        padding: @base-size;
        font-size: @font-size-2;
        box-sizing: border-box;
        border-top: 1px solid @mediumgrey; 
        border-bottom: 1px solid @mediumgrey;
        display: none;

        p {
            margin: @base-size;
            display: none;
        }
    }
    
    &.associate-entity-mode {
        
        #general-action-message {
            display: block;

            p {
                display: block;
            }
        }
        
        .associate-button-area {
            height: 40px;
            width: 24px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            
        } 
    } 
}    


#entity {

    .associate-button-area {
        display: none;
    }
    
    &.closed {
        #arrow {
            .rotate(-90deg);
        }

        
        .table-container {

            max-height: 0;    

            table {
                visibility: hidden;
                transition: visibility 0s linear 0.2s;
            }        
        }

        #entity-action-message {
            max-height: 0;
            padding: 0;
            
            p {
                visibility: hidden;
            }
        }
            
    }
    

    thead {

        font-size: @font-size-3;

        th {
            height: 5 * @base-size;
            padding: 0 @base-size 0 @base-size;
            width: auto;
            max-width: 96px;
            min-width: 80px;
            border-bottom: 1px solid @mediumgrey;
            box-sizing: border-box;
            font-weight: @regular;
            text-align: left;
            
            .associate-property-button {
                display: none;
            }

            iron-autogrow-textarea {
//              width: 100%;
                border: none;
                overflow: scroll;
                font-weight: @bold;
            }
            
            iron-icon {
                width: 18px;
                height: 18px;

               &:hover, &.active {
                    transition: all ease 0.3s;
                    cursor: pointer;
                }

            }

        }

    }
    
    #entity-action-message {
        padding: @base-size;
        font-size: @font-size-2;
        box-sizing: border-box;
        border-top: 1px solid @mediumgrey; 
        border-bottom: 1px solid @mediumgrey;
        display: none;
        
        p {
            margin: @base-size;
            display: none;
        }
    }

    #entity-id {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: flex-start;
        height: 5 * @base-size;
        padding-left: @base-size;
        padding-right: @base-size;

        #arrow {
            width: 16px;
            height: 16px;
            margin-right: 0;
            padding-left: -8;
            transition: all 0.3s ease;
        }

        &:hover, &.active {
            background-color: @item-panel-background-hover;
            transition: all ease 0.3s;
            cursor: pointer;
        }
    }
    
    .table-container {
        overflow-y: hidden;
        max-height:800px;
        transition: max-height 0.2s ease;
    }

    table {
        border-spacing:0;
        padding: 0 2 * @base-size;
        visibility: visible;
        transition: visibility 0s linear 0s;
    }

    tbody {

        tr {
            max-height: 6 * @base-size;

            &:hover, &.active {
                background-color: @item-panel-background-hover;
                transition: all ease 0.3s;
            }


            td {
                font-size: @font-size-2;
                padding: 0 @base-size 0 @base-size;
                width: auto;
                min-width: 88px;
                max-width: 104px;
                height: 5 * @base-size;
                border-bottom: 1px solid @mediumgrey;
                box-sizing: border-box;

                iron-icon {
                    width: 18px;
                    height: 18px;
                }

                &:hover, &.active {
                    font-weight: @bold;
                    cursor: pointer;
                }
                
                iron-autogrow-textarea {
                    width: 100%;
                    border: none;
                    overflow: scroll;
                }
            }
        }
    }
    
    // MODO ENTIDADE ASSOCIADA A COMPONENTE
    &.entity-associated-mode {
        
        #entity-action-message {
            display: block;
            
            #entity-associated-message {
                display: block;
            }
        }
    }
    
    
    //MODO ASSOCIAR COMPONENTE A PROPRIEDADE
    &.associate-property-mode {
    
        th {
            height: 7 * @base-size;
            
            &:hover, &.active {
                background-color: @item-panel-background-hover;
                transition: all ease 0.3s;
            }    
            
            .associate-property-button {
                display: block;
                margin: @base-size 0;
            }
        }
        
        #entity-action-message {
            display: block;
           
            #associate-property-message {
                display: block;
            }
        }
    }    
}

.data-alert {
    background-color: #F9F0CD;
    padding: @base-size;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    box-sizing: border-box;
    
    p {
        margin: @base-size;
        font-size: @font-size-2;
        box-sizing: border-box;
    }

    iron-icon {
        width: 18px;
        height: 18px;
    }
}


    // deixei o tamanho fixo do box para evitar problemas 
    // com esses paragrafos que estavam aumentando o box. 
    // acho ok. 
    // aí mais para frente, quando o usuário aumentar o box, 
    // ele aumenta e fica fixo no novo tamanho.