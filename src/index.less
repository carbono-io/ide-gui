@import './bower_components/lesshat/build/lesshat.less';
@import './less/material-icons.less';

@import './less/variables.less';
@import './less/reset.less';

// local variables
@panel-width: 224px;

@header-height: 7 * @base-size;

// the base width of the phone frame
@phone-frame-width: 300px;

// proportion of phone Nexus 5
// without buttons bar and status bar 
@phone-proportion: 568/360;

body {
  
  background-color: darken(@background-color, 5%);
  font-family: "source sans pro", sans-serif;
  font-size: 12px;
  color: @darkgrey;
  // its display should be flex
  // the direction of content is 'column'
  // which means that the main axis is y
//  display: flex;
//  flex-direction: column;
  
  /**
   * Sets the height and width of the whole application.
   * (html/body is temperamental)
   */
  #container {
    // let position be relative so that 
    // carbo-body may calculate it's
    // top, bottom left and right 
    // relative to the container instead of the window.
    position: relative;
    
    height: 100%;

    min-width: @min-screen-width;
    min-height: @min-application-height;
    
    // container should occupy full height of its parent
//    flex-grow: 1;
    
    // its display should be flex
    // the direction of content is 'column'
    // which means that the main axis is y
//    display: flex;
//    flex-direction: column;
    // items should occupy the whole width
//    align-items: stretch;
    
    #carbo-header-container {
      position: fixed;
      z-index: 1;
      top: 0px;
      left: 0px;
      right: 0px;

      // let its height be 0 
      // so that it does not cover clicks on other
      // portions of the screen
      height: 0px;
      
      #carbo-header {
        // let position be relative so that 
        // we can put a z-index on it
        position: relative;
        z-index: 1;

        padding-left: 2 * @base-size;
        padding-right: 2 * @base-size;

        height: @header-height;

        background-color: @mediumgrey;

        color: @darkgrey;

        display: flex;
        justify-content: space-between;
        align-items: center;

        #header-left {
          font-size: @font-size-5;
          background-color: floralwhite;

          width: 30%;
        }

        #header-center {

          #header-nav {
            display: flex;
            flex-direction: row;

            > div {          
              font-size: @font-size-2;

              font-family: helvetica;

              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;

              height: @header-height;
              width: @header-height + (3 * @base-size);

              transition: all ease 0.3s;

              .material-icons {
                margin-bottom: @base-size / 2;
              }

              &:hover {
                cursor: pointer;
                background-color: @grey;
                color: @white;
              }
            }
          }
        }

        #header-right {
          background-color: cyan;

          width: 30%;
        }
      }
      
      #carbo-header-panel {

        // let position be relative so that 
        // we can put a z-index on it
        // its z-index should be lower
        // than the #carbo-header's
        position: relative;
        z-index: 0;

        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        align-items: stretch;

        background-color: @white;
        opacity: 0;

        .transition(transform 0.3s ease, opacity 0.2s ease);
        
        .translateY(-100%);
        
        &.active {
          .translateY(0);

          opacity: 1;
        }
        
        .carbo-section {
          background-color: @white;
          padding-left: 2 * @base-size;
          padding-top: 3 * @base-size;
          padding-bottom: 3 * @base-size;

          .transition(background-color ease 0.5s);

          &:hover {
            background-color: @lightgrey;
            cursor: pointer;


          }
          
          .carbo-section-header {
            height: 2 * @base-size;
            font-size: @font-size-4;
            margin-bottom: @base-size;
          }

          
          .carbo-section-contents {
            display: flex;
            flex-direction: row;
          }
          
          .carbo-section-screen-container {
            margin-right: 2 * @base-size;
            
            .carbo-section-screen {
              background-color: @white;
              width: @phone-frame-width/ 3;
              height: @phone-proportion * @phone-frame-width/ 3;
              border: solid 1px @mediumgrey;

              .transition(border ease 0.5s);

              &:hover {
                border-color: @darkgrey;
                cursor: pointer;
              }


              /**
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               */
              .fake-fake-fake-fake-fake-app-header {
                background-color: @lightgrey;

                font-size: @font-size-2;

                font-weight: @regular;

                text-align: center;

                padding-top: 3px;
                padding-bottom: 3px;
              }
              /**
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               * REMOVER PELO AMOR DE DEUS
               */
            
            }
            
            .carbo-section-screen-caption {
              font-size: @font-size-3;
              margin-top: @base-size;
              height: 2 * @base-size;
            }



            // The button for adding screens
            .carbo-section-screen-add-button {
              background-color: @lightgrey;
              width: @phone-frame-width/ 3;
              height: @phone-proportion * @phone-frame-width/ 3;
              border: solid 1px @mediumgrey;

              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;

              .material-icons {
                color: @grey;
              }

              .button-caption {
                text-align: center;
                font-size: @font-size-2;
                color: @grey;
              }
            }

          }
        
        }
        
        .carbo-section-divider {
          background-color: @white;
          width: 2 * @base-size + 1;
        }
        
        
      }
      
    }


    
    /**
     * Contains the panel body of the application
     */
    #carbo-body {
      // the body of the application should occupy
      // all the available height of the window
      // body.height = window.height - header.height
      position: absolute;
      top: @header-height;
      bottom: 0px;
      left: 0px;
      right: 0px;
      
      // it has display flex using row (x is the main axis)
      display: flex;
      flex-direction: row;
      // the items within should be distributed with spaces
      justify-content: space-between;
      // the items should occupy all the height of the application body
      align-items: stretch;

      background-color: @background-color;
      
      // to be removed!!!!!!!!
      > div {
//        background-color: red;
        
      overflow: auto;
      }
      
      #left-panel {
        background-color: @white;
        width: @panel-width;
        
        // no growing nor shrinking
        flex-grow: 0;
        flex-shrink: 0;
        
        margin-right: @base-size;
        border-right: solid 1px @mediumgrey;

        .box-panel {
          height: 50%;
          overflow: auto;
        }
      }

      // header style of all panels and boxes
      .box-header {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;

        padding: @base-size;
        height: 2 * @base-size;
        background-color: @lightgrey;
        border-bottom: 1px solid @mediumgrey;

        .item {
          align-self: center;
        }

        i {
          font-size: 18px;
        }

        .icon-name {
          display: flex;
          flex-direction: row;
          justify-content: flex-start;
          align-items: center;
          align-self: baseline;
            span {
            padding-left: @base-size;
            }
        }

        .menu {
          &:hover {
          cursor: pointer;
        }
        }
      }
      
      #canvas-container {
        
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        
        
        margin-top: 2 * @base-size;
        margin-bottom: 2 * @base-size;
        margin-left: @base-size;
        margin-right: @base-size;
        
        // this container should occupy all space left
        flex-grow: 1;
        
        #canvas-control {
          
        
          #canvas {
            height: @phone-proportion * @phone-frame-width;
            width: @phone-frame-width;

            border: 3px solid @mediumgrey;
          }
          
          #control {
            border-top: 1px solid @darkgrey;
            margin-top: @base-size;
            padding-top: @base-size;
            width: 100%;
            
            color: @darkgrey;
          }
        }
      }
      
      #box {
        width: @panel-width;
        
        // no growing nor shrinking
        flex-grow: 0;
        flex-shrink: 0;
        
        margin-top: 2 * @base-size;
        margin-bottom: 2 * @base-size;
        margin-left: @base-size;
        margin-right: @base-size;
        
        background-color: @white;
      }
      
      #right-panel {
        
        // no growing nor shrinking
        flex-grow: 0;
        flex-shrink: 0;
        
        margin-left: @base-size;
        border-left: solid 1px @mediumgrey;
        
        background-color: @white;
        width: @panel-width;
      }
    }

    .has-shadow {
        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
      }

  }
}


