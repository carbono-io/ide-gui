@import './bower_components/lesshat/build/lesshat.less';
//@import './less/material-icons.less';

@import './less/variables.less';
@import './less/reset.less';

// local variables
@panel-width: 224px;

@header-height: 7 * @base-size;

// the base width of the phone frame
@phone-frame-width: 300px;

// proportion of phone Nexus 5
// without buttons bar and status bar 
@phone-proportion: 568/360;

body {
	
	background-color: darken(@background-color, 5%);
	font-family: @font-family;
	font-size: @font-size-3;
	color: @darkgrey;
	// its display should be flex
	// the direction of content is 'column'
	// which means that the main axis is y
//  display: flex;
//  flex-direction: column;
		
		#start {
				height: 100%;
				
				display: flex;
				flex-direction: row;
				justify-content: space-around;
				align-items: center;
				
				#new-button {
						display: block;
						height: 50px;
						width: 50px;
						
						display: flex;
						justify-content: center;
						align-items: center;
						
						text-decoration: none;
						color: @darkgrey;
						background-color: @grey;
						
						.transition(background-color ease 0.3s, color ease 0.3s);
						
						&:hover {
								color: @lightgrey;
								background-color: @darkgrey;
						}
						
						.material-icons {
								width: 0;
						}
				}
		}
		
		#loading {
				height: 100%;
				display: flex;
				flex-direction: row;
				justify-content: space-around;
				align-items: center;
		}
	
	/**
	 * Sets the height and width of the whole application.
	 * (html/body is temperamental)
	 */
	#container {
		// let position be relative so that 
		// carbo-body may calculate it's
		// top, bottom left and right 
		// relative to the container instead of the window.
		position: relative;
		
		height: 100%;

		min-width: @min-screen-width;
		min-height: @min-application-height;
		
		// container should occupy full height of its parent
//    flex-grow: 1;
		
		// its display should be flex
		// the direction of content is 'column'
		// which means that the main axis is y
//    display: flex;
//    flex-direction: column;
		// items should occupy the whole width
//    align-items: stretch;
		
		#carbo-header-container {
			position: fixed;
			z-index: 2;
			top: 0px;
			left: 0px;
			right: 0px;

			// let its height be 0 
			// so that it does not cover clicks on other
			// portions of the screen
			height: 0px;
			
			#carbo-header {
				// let position be relative so that 
				// we can put a z-index on it
				position: relative;
				z-index: 2;

				padding-left: 2 * @base-size;
				padding-right: 2 * @base-size;

				height: @header-height;

				background-color: @mediumgrey;

				color: @darkgrey;

				display: flex;
				justify-content: space-between;
				align-items: center;

				#header-left {
						font-size: @font-size-5;
						width: 30%;
						display:flex;
						flex-direction: row;
						align-items:center;



						#header-left-section {
								display:flex;
								flex-direction: row;
								align-items:center;
								font-weight: @bold;

										&:hover {
										cursor: pointer;
										}
						}
				}

				#header-center {

					#header-nav {
						display: flex;
						flex-direction: row;

						> div {          
							font-size: @font-size-2;

							display: flex;
							flex-direction: column;
							align-items: center;
							justify-content: center;

							height: @header-height;
							width: @header-height + (3 * @base-size);

							transition: all ease 0.3s;

							.material-icons {
								margin-bottom: @base-size / 2;
								font-size: @font-size-6;

							}

							&:hover {
								cursor: pointer;
								background-color: @grey;
								color: @white;
							}
						}
					}
				}

				#header-right {

						font-size: @font-size-3;
						width: 30%;
						display:flex;
						flex-direction: row;
						justify-content: flex-end;

						i {
								font-size: @font-size-6;

								&:hover {
								cursor: pointer;
							}

						}

						#header-right-preview {

								display: flex;
								flex-direction: row;
								align-items: center;
								margin-right: @base-size*2;

								&:hover {
								cursor: pointer;
							}

								i {
										font-size: @font-size-6;
								}

								.play-circle-outline {
										padding-right: @base-size;
								}




						}
				}


			}
			
			#carbo-header-panel {

				// let position be relative so that 
				// we can put a z-index on it
				// its z-index should be lower
				// than the #carbo-header's
				position: relative;
				z-index: 1;

				display: flex;
				flex-direction: row;
				justify-content: flex-start;
				align-items: stretch;

				background-color: @white;
				opacity: 0;

				.transition(transform 0.3s ease, opacity 0.2s ease);
				
				.translateY(-100%);
				
				&.active {
					.translateY(0);

					opacity: 1;
				}
				
				.carbo-section {
					background-color: @white;
					padding: 3 * @base-size 2 * @base-size;

					.transition(background-color ease 0.5s);

					&:hover {
						background-color: @lightgrey;
						cursor: pointer;


					}
					
					.carbo-section-header {
						height: 2 * @base-size;
						font-size: @font-size-4;
						margin-bottom: @base-size;
					}

					
					.carbo-section-contents {
						display: flex;
						flex-direction: row;
					}
					
					.carbo-section-screen-container {
						margin-top: 0;
						margin-right: @base-size;
						margin-bottom: 0;
						margin-left: @base-size;

							&:first-child {
									margin-left: 0;
							}

							&:last-child {
									margin-right: 0;
							}


						
						.carbo-section-screen {
							background-color: @white;
							width: @phone-frame-width/ 3;
							height: @phone-proportion * @phone-frame-width/ 3;
							border: solid 1px @mediumgrey;
							box-sizing: border-box; //consider border on height size

							.transition(border ease 0.5s);

							&:hover {
								border-color: @darkgrey;
								cursor: pointer;
							}


							/**
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 */
							.fake-fake-fake-fake-fake-app-header {
								background-color: @lightgrey;

								font-size: @font-size-2;

								font-weight: @regular;

								text-align: center;

								padding-top: 3px;
								padding-bottom: 3px;
							}
							/**
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 * REMOVER PELO AMOR DE DEUS
							 */
						
						}
						
						.carbo-section-screen-caption {
							font-size: @font-size-3;
							margin-top: @base-size;
							height: 2 * @base-size;
						}



						// The button for adding screens
						.carbo-section-screen-add-button {
							background-color: @lightgrey;
							width: @phone-frame-width/ 3;
							height: @phone-proportion * @phone-frame-width/ 3;
							border: solid 1px @mediumgrey;

							display: flex;
							flex-direction: column;
							justify-content: center;
							align-items: center;

							.material-icons {
								color: @grey;
									&:hover {
										color: @darkgrey;
									}
							}



							.button-caption {
								text-align: center;
								font-size: @font-size-2;
								color: @grey;
							}
						}

					}
				
				}
				
				.carbo-section-divider {
					background-color: @white;
					width: 2 * @base-size + 1;
				}

			}

				#close-header-panel{
						background-color: @mediumgrey;
						opacity: 0;
						visibility: hidden;
						position: absolute;
						z-index: 0;
						top: 0;
						width: 100%;
						transition: all 0.3s ease;
						transition-delay: 0;

						&.active {
								visibility: visible;
								opacity: 0.9;
						}
				}
			
		}


		
		/**
		 * Contains the panel body of the application
		 */
		#carbo-body {
			// the body of the application should occupy
			// all the available height of the window
			// body.height = window.height - header.height
			position: absolute;
			top: @header-height;
			bottom: 0px;
			left: 0px;
			right: 0px;
			
			// it has display flex using row (x is the main axis)
			display: flex;
			flex-direction: row;
			// the items within should be distributed with spaces
			justify-content: space-between;
			// the items should occupy all the height of the application body
			align-items: stretch;

			background-color: @background-color;
			
			// to be removed!!!!!!!!
			> div {
//        background-color: red;
				
			overflow: auto;
			}
			
			#left-panel {
				background-color: @white;
				width: @panel-width;
				
				// no growing nor shrinking
				flex-grow: 0;
				flex-shrink: 0;
				
				margin-right: @base-size;
				border-right: solid 1px @mediumgrey;

				.box-panel {
					height: 50%;
					overflow: auto;

						// remover
						position: relative;
				}





//
//            .components-group {
//
//                .components-item {
//
//                    padding-left: 4 * @base-size;
//
//                    &.group-father {
//                          padding-left:@base-size;
//
//                      .arrow {
//                            font-size: @font-size-5;
//                            margin-right: 0;
//                      }
//
//                    }
//
//                }
//
//
//
//                &.closed {
//
//                  .components-item {
//                        display:none;
//
//                      &.group-father {
//                          display:flex;
//
//                          .arrow {
//                              .rotate(-90deg);
//                          }
//
//                      }
//                  }
//
//              }
//        }





			}

			// header style of all panels and boxes
			.box-header {
				display: flex;
				flex-direction: row;
				align-items: center;
				justify-content: space-between;

				padding: @base-size;
				height: 4 * @base-size;
				border-bottom: 1px solid @mediumgrey;
				box-sizing:border-box; //consider border on height size
				background-color: @lightgrey;


				.item {
					align-self: center;
				}

				i {
					font-size: @font-size-6;
				}

				.icon-name {
					display: flex;
					flex-direction: row;
					justify-content: flex-start;
					align-items: center;
					align-self: baseline;
					cursor: default;
						span {
						padding-left: @base-size;
						}
				}

				.menu {
						display: flex;
						flex-direction: row;
						align-items:center;

						&:hover {
						cursor: pointer;
						}
				}
			}



				#box-configure {
						.box-content {
				padding: @base-size;
				}
				}

			
			#canvas-container {
				
				display: flex;
				flex-direction: row;
				justify-content: center;
				align-items: center;
				
				
				margin-top: 2 * @base-size;
				margin-bottom: 2 * @base-size;
				margin-left: @base-size;
				margin-right: @base-size;
				
				// this container should occupy all space left
				flex-grow: 1;
				
				#canvas-control {
				


					#canvas {
						height: @phone-proportion * @phone-frame-width;
						width: @phone-frame-width;

						border: 3px solid @mediumgrey;
					}
					
					#control {
						border-top: 1px solid @grey;
						margin-top: 2 * @base-size;
						padding-top: @base-size;
						width: 100%;
						
						color: @grey;

						display: flex;
						flex-direction: row;
						justify-content: space-between;
						align-items: center;

						#control-screen {
							display: flex;
							flex-direction: row;
							justify-content: flex-content;
						}
					}
				}
			}
			
			#box {
				width: @panel-width;
				
				// no growing nor shrinking
				flex-grow: 0;
				flex-shrink: 0;
				
				margin-top: 2 * @base-size;
				margin-bottom: 2 * @base-size;
				margin-left: @base-size;
				margin-right: @base-size;
				
				background-color: @white;

				.box-header {
				border-bottom: none;
				box-sizing:border-box; //consider border on height size
				}

				.box-content {
						#prefix {
								i {
								color: @mediumgrey;

								//font-size of icons: 18px
								font-size: @font-size-6;
								line-height: 24px;
										padding: 0 @base-size;
								}
							}
						label {
								font-size: @font-size-3;
						}

						#input {
								font-size: @font-size-3;
						}

				}

				.tab {
					display: flex;
					flex-direction: row;
					flex-wrap: wrap;
					justify-content: start;
					align-items: flex-start;

				.component {
						display: flex;
						flex-direction: column;
						justify-content: start;
						align-items: center;

						text-align: center;
						padding: 2 * @base-size;
						width: 10 * @base-size;
						height: 10 * @base-size;

						&:hover{
							background-color: @mediumgrey;
								cursor: pointer;
								transition: background-color ease 0.3s;

								&>.component-preview-on-hover {
										visibility: visible;
										opacity: 1;
										transition-delay:0.5s;
								}
						}


						i {
							font-size: 42px;
							margin-bottom: @base-size;
						}

						.component-label{
								height: 30px; //2 * line-height (15px)
								overflow: hidden;
						}
					}
						.component-preview-on-hover {

								visibility: hidden;
								opacity: 0;
								position: absolute;
								.translate(-(2 * @base-size), 2 * @base-size);
								transition: visibility ease 0.3s, opacity 0.5s ease;
								.component-preview-container {

										padding-top: 3 * @base-size;
										padding-right: 3 * @base-size;
										padding-bottom: 3 * @base-size;
										padding-left: 3 * @base-size;

										background-color: @white;
										text-align: left;


										.title {
												font-size: @font-size-4;
												margin-bottom: @base-size;
										}

										.preview-screen {
//                        height: 45 * @base-size;
//                        width: 28 * @base-size;

												background-color: @white;
												width: @phone-frame-width/ 1.25;
												height: @phone-proportion * @phone-frame-width/ 1.25;
												border: solid 1px @mediumgrey;
												box-sizing: border-box; //consider border on height size

										}
										.screen-caption {
												margin-top: @base-size;
										}


										}
						}

				}



				
			}
			
			#right-panel {
				
				// no growing nor shrinking
				flex-grow: 0;
				flex-shrink: 0;
				
				margin-left: @base-size;
				border-left: solid 1px @mediumgrey;
				
				background-color: @white;
				width: @panel-width;
			}
		}

		.has-shadow {
				box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
			}
		.has-shadow-2 {
				box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
			}

	}

}


